(this.webpackJsonppizza_project=this.webpackJsonppizza_project||[]).push([[12],{176:function(e,t,n){"use strict";n.d(t,"e",(function(){return _})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"l",(function(){return k})),n.d(t,"k",(function(){return b})),n.d(t,"g",(function(){return l})),n.d(t,"j",(function(){return m})),n.d(t,"i",(function(){return d})),n.d(t,"p",(function(){return E})),n.d(t,"c",(function(){return S})),n.d(t,"d",(function(){return g})),n.d(t,"n",(function(){return v})),n.d(t,"m",(function(){return h})),n.d(t,"o",(function(){return N})),n.d(t,"b",(function(){return j})),n.d(t,"h",(function(){return O}));var a=n(46),r=n.n(a),o=n(53),c=n(25),i=n.n(c),u=i.a.CancelToken.source(),s="https://evening-caverns-34846.herokuapp.com",l=function(){return i.a.get("/products")},m=function(e){return i.a.get('/products/?category="'.concat(e,'"'),{cancelToken:u.token})},d=function(e){return i.a.get("/products/".concat(e))},p=function(){var e=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.get("".concat(s,"/ingredients")));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.a.post("".concat(s,"/ingredients"),t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(e){return i.a.post("".concat(s,"/products"),e)},E=function(e,t){return i.a.put("/products/".concat(e),t)},S=function(e){return i.a.delete("/products/".concat(e))},b=function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),e.abrupt("return",i.a.post("".concat(s,"/images"),n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){return i.a.get("/developers")},g=function(){return i.a.get("/promo")},v=function(e){return i.a.post("/images",e)},h=function(e){return i.a.post("/promo",e)},N=function(e,t){return i.a.put("/promo/".concat(e),t)},j=function(e){return i.a.delete("/promo/".concat(e))},O=function(e){return i.a.get("/promo/".concat(e))}},224:function(e,t,n){e.exports={form:"AdminStocksEditor_form__19TNN",formInput:"AdminStocksEditor_formInput__3NZ95",title:"AdminStocksEditor_title__3jP64",formButton:"AdminStocksEditor_formButton__1BAnW",formButtonReset:"AdminStocksEditor_formButtonReset__2tiQi",uploadInput:"AdminStocksEditor_uploadInput__2DyJ4",fileUpload:"AdminStocksEditor_fileUpload__19EWX",fileUploadGreen:"AdminStocksEditor_fileUploadGreen__3T-lI AdminStocksEditor_fileUpload__19EWX",uploadLabel:"AdminStocksEditor_uploadLabel__1zWV2",uploadSpan:"AdminStocksEditor_uploadSpan__1sUgo",fileName:"AdminStocksEditor_fileName__tgd29"}},225:function(e,t,n){e.exports={card:"AdminStocksListItem_card__aM9qD",descriptionContainer:"AdminStocksListItem_descriptionContainer__2FAdq",cardImg:"AdminStocksListItem_cardImg__3FKXO",title:"AdminStocksListItem_title__10ecY",description:"AdminStocksListItem_description__7mLC3",buttonContainer:"AdminStocksListItem_buttonContainer__1b6vU",button:"AdminStocksListItem_button__3m-xX"}},226:function(e,t,n){e.exports={cardList:"AdminStocksList_cardList__2PQHV"}},227:function(e,t,n){e.exports={container:"AdminStocksPage_container__2R0ZC"}},239:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return R}));var a=n(0),r=n.n(a),o=n(44),c=n(171),i=n(11),u=n(47),s=n(76),l=n(9),m=n(176),d={fetchStocks:function(){return function(e){e(l.a.getStocksRequest()),Object(m.d)().then((function(t){var n=t.data;return e(l.a.getStocksSuccess(n.promo))})).catch((function(t){return e(l.a.getStocksError(t))}))}},sendStock:function(e){return function(t){t(l.a.sendStockRequest()),Object(m.m)(e).then((function(e){var n=e.data;return t(l.a.sendStockSuccess(n.newPromo))})).catch((function(e){return t(l.a.sendStockError(e))}))}},updateStock:function(e,t){return function(n){n(l.a.updateStockRequest()),Object(m.o)(e,t).then((function(e){var t=e.data;return n(l.a.updateStockSuccess(t.updatedPromo))})).catch((function(e){return n(l.a.updateStockError(e))}))}},deleteStock:function(e){return function(t){t(l.a.deleteStockRequest()),Object(m.b)(e).then((function(e){var n=e.data;return t(l.a.deleteStockSuccess(n.deletedPromo._id))})).catch((function(e){return t(l.a.deleteStockError(e))}))}},sendFile:function(e){return function(t){t(l.a.sendFileRequest()),Object(m.n)(e).then((function(e){var n=e.data;return t(l.a.sendFileSuccess(n.image.file))})).catch((function(e){return t(l.a.sendFileError(e))}))}},getStockById:function(e){return function(t){t(l.a.getStockByIdRequest()),Object(m.h)(e).then((function(e){var n=e.data;return t(l.a.getStockByIdSuccess(n.promo))})).catch((function(e){return t(l.a.getStockByIdError(e))}))}}},p=function(e){return e.stocks.items},f=function(e){return e.stocks.fileLink},k=function(e){return e.stocks.isLoading},E=function(e){return e.stocks.item},S=(n(84),n(224)),b=n.n(S);var _=function(){var e=document.getElementById("uploadeFile").value;e=e.replace(/\\/g,"/").split("/").pop(),document.getElementById("fileName").innerHTML="\u0418\u043c\u044f \u0444\u0430\u0439\u043b\u0430: "+e};var g={onSubmitFile:d.sendFile,onSubmit:d.sendStock,onCancel:l.a.cancelInput,onUpdate:d.updateStock},v=Object(i.b)((function(e){return{linkFile:f(e),isLoading:k(e),editStock:E(e)}}),g)((function(e){var t=e.onSubmitFile,n=e.onSubmit,i=e.onUpdate,l=e.onCancel,m=e.isLoading,d=e.linkFile,p=e.editStock,f=Object(a.useState)(!1),k=Object(o.a)(f,2),E=k[0],S=k[1];Object(a.useEffect)((function(){E&&setTimeout((function(){S(!1)}),3e3)}),[E]);var g=Object(a.useState)(null),v=Object(o.a)(g,2),h=v[0],N=v[1],j=Object(a.useState)(""),O=Object(o.a)(j,2),I=O[0],C=O[1],A=Object(a.useState)(""),L=Object(o.a)(A,2),y=L[0],F=L[1],B=Object(a.useState)(""),R=Object(o.a)(B,2),U=R[0],w=R[1],D=Object(a.useState)(""),q=Object(o.a)(D,2),x=q[0],P=q[1],T=Object(a.useState)(""),z=Object(o.a)(T,2),W=z[0],X=z[1],G=Object(a.useState)(""),H=Object(o.a)(G,2),J=H[0],M=H[1],Q=Object(a.useState)(null),V=Object(o.a)(Q,2),Z=V[0],K=V[1],Y={success:"\u0410\u043a\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430",updated:"\u0410\u043a\u0446\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430",successFile:"\u0424\u0430\u0439\u043b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d"},$=Object(a.useState)(null),ee=Object(o.a)($,2),te=ee[0],ne=ee[1];Object(a.useEffect)((function(){ne(p),p&&(N(p.images),C(p.title.en),P(p.description.en),F(p.title.ru),X(p.description.ru),w(p.title.ukr),M(p.description.ukr))}),[p]);var ae=function(e){e.preventDefault();var t=d||te.images,a={title:{en:I,ru:y,ukr:U},description:{en:x,ru:W,ukr:J},images:t};if("update"===e.target.name)return i(te._id,a),re(),K(Y.updated),void S(!0);K(Y.success),S(!0),n(a),re()},re=function(){N(null),C(""),P(""),F(""),X(""),w(""),M(""),document.getElementById("formStocks").reset(),document.getElementById("fileName").innerHTML="",l()};return r.a.createElement(r.a.Fragment,null,E&&r.a.createElement(s.a,{message:Z,confirm:!0}),m&&r.a.createElement(u.a,null),r.a.createElement("form",{className:b.a.form,id:"formStocks"},r.a.createElement("div",{className:d?b.a.fileUploadGreen:b.a.fileUpload},r.a.createElement("label",{className:b.a.uploadLabel},r.a.createElement("input",{type:"file",name:"file",id:"uploadeFile",className:b.a.uploadInput,onChange:function(e){var n=e.target;S(!0),_();var a=new FormData;a.append("file",n.files[0]),K(Y.successFile),t(a)}}),r.a.createElement("span",{className:b.a.uploadSpan},h?r.a.createElement(c.a,{id:"file.uploaded"}):r.a.createElement(c.a,{id:"file.upload"})))),r.a.createElement("div",{id:"fileName",className:b.a.fileName}),r.a.createElement("div",null,r.a.createElement("h2",{className:b.a.title},r.a.createElement(c.a,{id:"promo.name"})),r.a.createElement("input",{name:"promoNameEn",id:"promoNameEn",placeholder:"Promo name on english",className:b.a.formInput,value:I,onChange:function(e){var t=e.target.value;return C(t)}}),r.a.createElement("input",{name:"promoNameRu",id:"promoNameRu",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c",className:b.a.formInput,value:y,onChange:function(e){var t=e.target.value;return F(t)}}),r.a.createElement("input",{name:"promoNameUkr",id:"promoNameUkr",placeholder:"\u041d\u0430\u0437\u0432\u0430 \u0430\u043a\u0446\u0456\u0457 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u043e\u044e",className:b.a.formInput,value:U,onChange:function(e){var t=e.target.value;return w(t)}})),r.a.createElement("div",null,r.a.createElement("h2",{className:b.a.title},r.a.createElement(c.a,{id:"promo.about"})),r.a.createElement("input",{name:"promoDescriptionEn",id:"promoDescriptionEn",placeholder:"Promo description on english",className:b.a.formInput,value:x,onChange:function(e){var t=e.target.value;return P(t)}}),r.a.createElement("input",{name:"promoDescriptionRu",id:"promoDescriptionRu",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0430\u043a\u0446\u0438\u0438 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c",className:b.a.formInput,value:W,onChange:function(e){var t=e.target.value;return X(t)}}),r.a.createElement("input",{name:"promoDescriptionUkr",id:"promoDescriptionUkr",placeholder:"\u041d\u0430\u0437\u0432\u0430 \u0430\u043a\u0446\u0456\u0457 \u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u043e\u044e",className:b.a.formInput,value:J,onChange:function(e){var t=e.target.value;return M(t)}})),d&&!p&&r.a.createElement("button",{type:"submit",name:"onSubmit",onClick:ae,className:b.a.formButton},r.a.createElement(c.a,{id:"promo.send"})),p&&r.a.createElement("button",{type:"submit",name:"update",onClick:ae,className:b.a.formButton},r.a.createElement(c.a,{id:"promo.refresh"})),r.a.createElement("button",{type:"button",onClick:re,className:"".concat(b.a.formButton," ").concat(b.a.formButtonReset)},r.a.createElement(c.a,{id:"reset form"}))))})),h=n(179),N=n(225),j=n.n(N);var O={onRemove:d.deleteStock,onChange:d.getStockById},I=Object(i.b)(null,O)((function(e){var t=e.images,n=e.title,a=e.description,o=e.id,i=e.onRemove,u=e.onChange;return r.a.createElement("div",{className:j.a.card},r.a.createElement("div",{className:j.a.descriptionContainer},r.a.createElement(h.LazyLoadImage,{className:j.a.cardImg,src:t}),r.a.createElement("div",null,r.a.createElement("h1",{className:j.a.title},n.en),r.a.createElement("p",{className:j.a.description},a.en),r.a.createElement("h1",{className:j.a.title},n.ru),r.a.createElement("p",{className:j.a.description},a.ru),r.a.createElement("h1",{className:j.a.title},n.ukr),r.a.createElement("p",{className:j.a.description},a.ukr))),r.a.createElement("div",{className:j.a.buttonContainer},r.a.createElement("button",{type:"button",className:j.a.button,onClick:function(){return i(o)}},r.a.createElement(c.a,{id:"promo.delete"})),r.a.createElement("button",{type:"button",className:j.a.button,onClick:function(){return function(e){window.scrollTo(0,0),u(e)}(o)}},r.a.createElement(c.a,{id:"promo.change"}))))})),C=n(226),A=n.n(C);var L={onFetchStocks:d.fetchStocks},y=Object(i.b)((function(e){return{elements:p(e)}}),L)((function(e){var t=e.elements,n=e.onFetchStocks;return Object(a.useEffect)((function(){n()}),[n]),t&&r.a.createElement("div",{className:A.a.cardList},t.map((function(e){var t=e.title,n=e.description,a=e.images,o=e._id;return r.a.createElement(I,{key:o,title:t,description:n,images:a,id:o})})))})),F=n(227),B=n.n(F);function R(){return r.a.createElement("div",{className:B.a.container},r.a.createElement(v,null),r.a.createElement(y,null))}}}]);
//# sourceMappingURL=12.16bd3be9.chunk.js.map